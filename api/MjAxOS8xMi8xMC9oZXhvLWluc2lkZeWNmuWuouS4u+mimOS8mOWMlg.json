{"title":"hexo_inside博客主题优化","date":"2019-12-10T13:10:31.000Z","date_formatted":{"ll":"2019年12月10日","L":"2019/12/10","MM-DD":"12-10"},"link":"2019/12/10/hexo-inside博客主题优化","comments":true,"tags":["hexo主题优化"],"updated":"2020-01-09T06:20:45.724Z","content":"<h3 id=\"Hexo-inside主题优化\">Hexo inside主题优化<a href=\"2019/12/10/hexo-inside博客主题优化#Hexo-inside主题优化\"></a></h3><p><code>hexo inside 优化</code></p>\n<hr>\n<h4 id=\"hexo系列问题\">hexo系列问题<a href=\"2019/12/10/hexo-inside博客主题优化#hexo系列问题\"></a></h4><p>※ 部署到github时会删掉README文件</p>\n<p>​    △ 分析：</p>\n<blockquote>\n<p> ① 执行<code>hexo g</code>后，会把source文件里的.md格式的文件渲染为html文件并放到public下面；</p>\n<p> ② 继续执行<code>hexo d</code>后，会将public下面的所有文件提交到对应的XXX.github.io仓库中；</p>\n<p> ③ 由于本地public文件夹无README.md文件，在提交public文件时，github会认为你把README.md文件      删掉了，同时github也会删掉仓库里的README.md文件</p>\n</blockquote>\n<p>   △ 解决：</p>\n<blockquote>\n<p>① 在本地source文件夹内创建一个 README.md</p>\n<p>② 修改Hexo根目录下的_config.yml文件，将skip_render参数的值设置为README.md</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">skip_render:</span> <span class=\"string\">README.md</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\"></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">//</span>  <span class=\"string\">为什么需要设置这一步呢？</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">//</span>  <span class=\"string\">因为你执行hexo</span> <span class=\"string\">g命令时，hexo会默认将source文件里的所有md文件渲染为html文件放到public中，</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">5</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">//</span>  <span class=\"string\">同时README.md会被渲染为README.html文件放到public文件里</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">6</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">//</span>  <span class=\"string\">加上这段设置，就是告诉hexo的解析器，你在渲染source文件里的md文件时，跳过README.md文件</span></span></pre></td></tr></table></div></figure>\n</blockquote>\n<h4 id=\"Inside主题改造\">Inside主题改造<a href=\"2019/12/10/hexo-inside博客主题优化#Inside主题改造\"></a></h4><p>※ 博客头像、简介、目录、链接、搜索、主题、字体、加载速度、评论、访问量</p>\n<p><code>config.yml文件改造</code></p>\n<p>​    △ 头像设置</p>\n<blockquote>\n<p>① 在当前主题中source创建img文件夹，将自己头像照片存放到文件夹中</p>\n<p>② 在主题配置文件 _config.yml 文件，设置以下值：</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 头像url</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">avatar:</span> <span class=\"string\">/img/avatar.jpg</span> </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">favicon:</span> <span class=\"string\">/img/avatar.jpg</span></span></pre></td></tr></table></div></figure>\n</blockquote>\n<p>​    △ 目录设置</p>\n<p>  △ 设置添加rss ,github等链接</p>\n<blockquote>\n<p>① 在目录下执行安装hexo插件</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save hexo-generator-feed</span></pre></td></tr></table></div></figure>\n\n<p>② 在config.yml文件中添加插件信息</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Extensions</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## Plugins: http://hexo.io/plugins/</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins:</span> <span class=\"string\">hexo-generate-feed</span></span></pre></td></tr></table></div></figure>\n\n<p>③ 在theme目录下的config.yml文件中添加rss配置</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Set rss to false to disable feed link.</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Leave rss as empty to use site's feed link.</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Set rss to specific value if you have burned your feed already.</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">rss:</span> <span class=\"string\">/atom.xml</span></span></pre></td></tr></table></div></figure>\n\n<p>④ 重新部署</p>\n</blockquote>\n<p>改造过程中的问题：</p>\n<p>1、config.yml文件在部署过程中，存在问题：duplicated mapping key at line 242, column -2307: </p>\n<p>在search模块中，设置 其一 adapter即可，不可设置两个</p>\n<p>2、bad indentation of a mapping entry at line 330, column 3</p>\n<p>缩进错误</p>\n<p>3、无法加载Disqus</p>\n","prev":{"title":"闲潭杂记","link":"2019/12/29/闲潭杂记"},"next":{"title":"hexo_mac部署","link":"2019/12/10/hexo_mac部署"},"plink":"http://yoursite.com/2019/12/10/hexo-inside博客主题优化/","copyright":{"custom":"未经许可，不可转载！"}}